function StatusHandler(t){this.$container=$("body"),this.$toggleButtonClass=t.toggleButtonClass,this.$flashMessageContainer=this.$container.find("#"+t.flashMessageContainerId),this.init()}StatusHandler.prototype.init=function(){this.bindEvents()},StatusHandler.prototype.bindEvents=function(){var t=this;this.$container.on("ajax:success","."+this.$toggleButtonClass,function(s,e){e.invalid?t.display_flash_message(e.type,!1,e.failure_action):t.toggleStatus(this,e)})},StatusHandler.prototype.display_flash_message=function(t,s,e){var a=s?" successfully ":" could not be ",n=s?" alert-success":" alert-danger";this.$flashMessageContainer.empty().text(t+a+e).removeClass().addClass("fade in alert"+n),this.createAndAddDismissButton()},StatusHandler.prototype.createAndAddDismissButton=function(){var t=$("<button/>",{text:"x","class":"close",click:function(){$(this).closest("div").removeClass().empty()}});this.$flashMessageContainer.append(t)},StatusHandler.prototype.toggleStatus=function(t,s){s.enabled?$(t).text("DISABLE").addClass("btn-primary").removeClass("btn-success").attr("href",s.link):$(t).text("ENABLE").addClass("btn-success").removeClass("btn-primary").attr("href",s.link),this.display_flash_message(s.type,!0,s.success_action)},$(document).ready(function(){args={toggleButtonClass:"toggle",flashMessageContainerId:"flash_messages"};new StatusHandler(args)});